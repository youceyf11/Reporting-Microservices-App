# CI Environment Test Configuration
spring.application.name=reporting-service-test

# Use embedded H2 database for CI tests instead of PostgreSQL
spring.r2dbc.url=r2dbc:h2:mem:///testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.r2dbc.username=sa
spring.r2dbc.password=

# Disable external services for CI tests
spring.data.redis.host=localhost
spring.data.redis.port=6379

# Use CI Kafka service
spring.kafka.bootstrap-servers=localhost:9092

# Use CI RabbitMQ service (if needed)
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=ci
spring.rabbitmq.password=ci

# Disable service discovery in tests
eureka.client.enabled=false
spring.cloud.discovery.enabled=false

# Test-specific settings
spring.sql.init.mode=always
spring.sql.init.data-locations=classpath:data-test.sql

# Jira fetch service URL for tests
jira.fetch.base-url=http://localhost:8081

# Logging for debugging
logging.level.org.project.reportingservice=INFO
logging.level.org.springframework.r2dbc=DEBUG
logging.level.org.testcontainers=DEBUG

# Performance settings
reporting.expected-hours-per-month=160
reporting.performance.excellent-threshold=0.9
reporting.performance.good-threshold=0.7
reporting.performance.poor-threshold=0.5
